{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Documents\\\\CLIENT PROJECTS\\\\Trilateral\\\\src\\\\Component\\\\Screen\\\\PlotScreen.js\";\nimport ReactDOM from 'react-dom';\nimport React, { Component } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport '../Css/Componentscss.css';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, Route, Switch, withRouter } from 'react-router-dom';\nimport Cookies from 'js-cookie';\n\nconst PlotScreen = props => {\n  /* Getting state of the carbon intensity from the redux store*/\n  const carbonIntensityData = useSelector(state => state.carbon);\n  const {\n    loading,\n    carbonData\n  } = carbonIntensityData;\n  /* Getting date of the day from the redux store*/\n\n  const day = useSelector(state => state.chosenDate);\n  const {\n    date\n  } = day;\n  /*initialising state for plot data */\n\n  const forecastData = Cookies.get('carbonIntensityForcast');\n  const actualData = Cookies.get('carbonIntensityActual');\n  const fromData = Cookies.get('carbonIntensityFrom');\n  const [plotData, setPlotData] = useState({});\n  const [forecast, setForcast] = useState(forecastData);\n  const [actual, setActual] = useState(actualData);\n  const [from, setFrom] = useState(fromData);\n\n  const cookie = () => {\n    const forecastCookie = carbonData.map(data => {\n      Cookies.set('carbonIntensityForcast', data.intensity.forecast);\n      return Cookies.get('carbonIntensityForcast');\n    });\n    const actualCookie = carbonData.map(data => {\n      Cookies.set('carbonIntensityActual', data.intensity.forecast);\n      return Cookies.get('carbonIntensityActual');\n    });\n    const fromCookie = carbonData.map(data => {\n      Cookies.set('carbonIntensityFrom', data.intensity.forecast);\n      return Cookies.get('carbonIntensityFrom');\n    });\n  };\n  /*function to update plotData state with data and options */\n\n\n  const chart = () => {\n    setPlotData({\n      labels: from,\n      datasets: [{\n        label: 'Forecast Intensity ',\n        data: forecast,\n        backgroundColor: ['rgba(255, 158, 64, 3)'],\n        bandwidth: 4\n      }, {\n        label: 'Actual Intensity ',\n        data: actual,\n        backgroundColor: ['rgba(54, 162, 235, 1)'],\n        bandwidth: 4\n      }]\n    });\n  };\n\n  useEffect(() => {\n    if (carbonData) {\n      if (date) {\n        chart();\n        cookie();\n      }\n    } else {}\n  }, [carbonData]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Frontpage \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"back\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 38\n    }\n  }, \" Go back \"), \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, \" \", date, \" \")), loading === true ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 37\n    }\n  }, \" Loading........\") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 67\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"plot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Line, {\n    data: plotData,\n    options: {\n      responsive: true,\n      title: {\n        text: 'CARBON INTENSITY COMPARISON PLOT',\n        display: true,\n        fontSize: 20\n      },\n      scales: {\n        yAxes: [{\n          ticks: {\n            autoSkip: true,\n            maxTicksLimit: 10,\n            beginAtZero: true\n          },\n          gridLines: {\n            display: false\n          }\n        }],\n        xAxes: [{\n          gridLines: {\n            display: false\n          }\n        }]\n      },\n      animation: {\n        currentStep: 10,\n        numSteps: 10,\n        easing: 'easeInOutQuad',\n        duration: 1060\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  })))));\n};\n\nexport default PlotScreen;","map":{"version":3,"sources":["C:/Users/Administrator/Documents/CLIENT PROJECTS/Trilateral/src/Component/Screen/PlotScreen.js"],"names":["ReactDOM","React","Component","Line","useState","useEffect","useDispatch","useSelector","Link","Route","Switch","withRouter","Cookies","PlotScreen","props","carbonIntensityData","state","carbon","loading","carbonData","day","chosenDate","date","forecastData","get","actualData","fromData","plotData","setPlotData","forecast","setForcast","actual","setActual","from","setFrom","cookie","forecastCookie","map","data","set","intensity","actualCookie","fromCookie","chart","labels","datasets","label","backgroundColor","bandwidth","responsive","title","text","display","fontSize","scales","yAxes","ticks","autoSkip","maxTicksLimit","beginAtZero","gridLines","xAxes","animation","currentStep","numSteps","easing","duration"],"mappings":"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","sourcesContent":["import ReactDOM from 'react-dom';\r\nimport React, { Component } from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport '../Css/Componentscss.css';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, Route, Switch, withRouter } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\n\r\n\r\n\r\nconst PlotScreen = (props) => {\r\n\r\n\r\n    /* Getting state of the carbon intensity from the redux store*/\r\n    const carbonIntensityData = useSelector(state => state.carbon);\r\n    const { loading, carbonData } = carbonIntensityData\r\n\r\n    /* Getting date of the day from the redux store*/\r\n    const day = useSelector(state => state.chosenDate);\r\n    const { date } = day\r\n\r\n\r\n/*initialising state for plot data */\r\n    const forecastData = Cookies.get('carbonIntensityForcast');\r\n    const actualData = Cookies.get('carbonIntensityActual');\r\n    const fromData = Cookies.get('carbonIntensityFrom');\r\n    const [plotData, setPlotData] = useState({});\r\n    const [forecast, setForcast] = useState(forecastData)\r\n    const [actual, setActual] = useState(actualData)\r\n    const [from, setFrom] = useState(fromData)\r\n\r\n\r\n    const cookie = () => {\r\n        const forecastCookie = carbonData.map((data) => { Cookies.set('carbonIntensityForcast', data.intensity.forecast); return Cookies.get('carbonIntensityForcast') })\r\n        const actualCookie = carbonData.map((data) => { Cookies.set('carbonIntensityActual', data.intensity.forecast); return Cookies.get('carbonIntensityActual') })\r\n        const fromCookie = carbonData.map((data) => { Cookies.set('carbonIntensityFrom', data.intensity.forecast); return Cookies.get('carbonIntensityFrom') })\r\n        \r\n        \r\n    }\r\n\r\n    /*function to update plotData state with data and options */\r\n    const chart = () => {\r\n        \r\n        setPlotData({\r\n            labels: from,\r\n            datasets: [\r\n                {\r\n                    label: 'Forecast Intensity ',\r\n\r\n                    data: forecast,\r\n                    backgroundColor: [\r\n                        'rgba(255, 158, 64, 3)'\r\n\r\n                    ],\r\n                    bandwidth: 4,\r\n                    \r\n                },\r\n\r\n                {\r\n                    label: 'Actual Intensity ',\r\n                    data: actual,\r\n                    backgroundColor: [\r\n                        'rgba(54, 162, 235, 1)'\r\n\r\n                    ],\r\n                    bandwidth: 4\r\n                }\r\n            ]\r\n\r\n\r\n        });\r\n\r\n\r\n    }\r\n    \r\n\r\n    useEffect(() => {\r\n        if (carbonData) {\r\n            if (date) {\r\n                chart()\r\n                cookie()\r\n            }\r\n\r\n        }\r\n        else {\r\n            \r\n        }\r\n       \r\n    }, [carbonData])\r\n\r\n\r\n    return (\r\n        <div className='Frontpage '>\r\n            <div className='main'>\r\n\r\n                <div className='back'>\r\n                    <Link to={\"/\"} > <button className='button' > Go back </button> </Link>\r\n                </div>\r\n                <div className='date'>\r\n                    <h2> {date} </h2>\r\n                </div>\r\n\r\n                {/*displaying loading while waiting for data from the API*/}\r\n\r\n                {loading === true ? <div> Loading........</div> : <div> \r\n\r\n                    <div className='plot'>\r\n\r\n                        <Line data={plotData} options={{\r\n                            responsive: true,\r\n                            title: { text: 'CARBON INTENSITY COMPARISON PLOT', display: true, fontSize: 20 },\r\n                            scales: {\r\n                                yAxes: [\r\n                                    {\r\n                                        ticks: {\r\n                                            autoSkip: true,\r\n                                            maxTicksLimit: 10,\r\n                                            beginAtZero: true\r\n                                        },\r\n                                        gridLines: {\r\n                                            display: false\r\n                                        }\r\n                                    }],\r\n                                xAxes: [{\r\n                                    gridLines: {\r\n                                        display: false\r\n                                    }\r\n                                }]\r\n                            }, animation: {\r\n\r\n                                currentStep: 10,\r\n                                numSteps: 10,\r\n                                easing: 'easeInOutQuad',\r\n                                duration: 1060,\r\n\r\n\r\n                            }\r\n\r\n                        }} />\r\n                    </div>\r\n                </div>\r\n                }\r\n               \r\n                \r\n            \r\n            \r\n            </div>\r\n\r\n           \r\n        </div>\r\n        )\r\n}\r\n\r\nexport default PlotScreen; "]},"metadata":{},"sourceType":"module"}